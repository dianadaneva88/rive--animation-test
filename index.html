<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Responsive —Å–∞–π—Ç</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://unpkg.com/@rive-app/canvas@2.24.0"></script>
</head>

<body>

<header>
  <h1>–ú–æ—è—Ç —Å–∞–π—Ç</h1>
  <nav>
    <a href="#">–ù–∞—á–∞–ª–æ</a>
    <a href="#">–ó–∞ –Ω–∞—Å</a>
    <a href="#">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
  </nav>
</header>

<main class="container">
  <section class="card">–°–µ–∫—Ü–∏—è 1</section>
  <section class="card">–°–µ–∫—Ü–∏—è 2</section>
  <section class="card">–°–µ–∫—Ü–∏—è 3</section>
</main>

<div class="container">
  <canvas id="canvas" width="700" height="700"></canvas>
  <div class="content">
    <a href="#" id="uploadBtn">Upload Now</a>
  </div>
</div>

<footer>
  ¬© 2025 –ú–æ—è—Ç —Å–∞–π—Ç
</footer>

<script>
  const btn = document.getElementById('uploadBtn');

  const r = new rive.Rive({
    src: './new_file_1.riv',
    canvas: document.getElementById('canvas'),
    autoplay: true,
    stateMachines: 'State Machine 1',
    fit: rive.Fit.cover,

    onLoad: () => {
      const inputs = r.stateMachineInputs('State Machine 1');
      console.log(inputs); // üîç DEBUG

      const bumpTrigger = inputs.find(i => i.name === 'Trigger 2');

      btn.addEventListener('click', (e) => {
        e.preventDefault();
        bumpTrigger.fire();
      });
    },

    onStateChange: (event) => {
      const state = event.data[0];

      if (state === 'Fireup' || state === 'Flying') {
        btn.innerHTML = 'Uploading...';
        btn.style.backgroundColor = 'rgba(255,255,255,.5)';
        document.body.style.backgroundColor = '#8cbdff';
      }

      if (state === 'Firedown') {
        btn.innerHTML = 'Finished!';

        setTimeout(() => {
          btn.innerHTML = 'Upload File';
          btn.style.backgroundColor = 'white';
          document.body.style.backgroundColor = 'rgb(0, 110, 255)';
        }, 1000);
      }
    }
  });
</script>

</body>
</html>

